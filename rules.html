<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rules - Simple Chess Website</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    html, body {
      height: 100%;
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #1a1a1a;
      color: white;
    }

    .main-content {
      padding: 30px 40px;
      overflow-y: auto;
      box-sizing: border-box;
      max-width: 1000px;
      margin: 0 auto;
      line-height: 1.6;
      color: white;
      min-height: 100vh;
    }

    h1 {
      margin-top: 0;
      margin-bottom: 20px;
      font-weight: 700;
      font-size: 2.2rem;
      color: #ddd;
      text-align: center;
    }

    strong {
      font-weight: 600;
      font-size: 1.1rem;
    }

    p {
      margin-bottom: 20px;
      font-size: 1rem;
      color: #ccc;
    }

    ul {
      margin-top: 0;
      padding-left: 20px;
      margin-bottom: 20px;
      color: #ccc;
    }

    li {
      margin-bottom: 6px;
    }

    #chessboard {
      display: grid;
      grid-template-columns: repeat(8, 60px);
      grid-template-rows: repeat(8, 60px);
      border: 2px solid #333;
      background-color: #333;
      user-select: none;
      margin: 20px auto;
    }

    .square {
      width: 60px;
      height: 60px;
      font-size: 40px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .square.light {
      background-color: #f0d9b5;
    }

    .square.dark {
      background-color: #b58863;
    }

    .dot {
      width: 12px;
      height: 12px;
      background-color: red;
      border-radius: 50%;
      display: block;
      margin: auto;
    }

    .piece-display {
      background-color: white;
      padding: 15px;
      border-radius: 8px;
      color: black;
      max-width: 220px;
      text-align: center;
      margin: 20px auto;
    }

    .piece-symbol {
      font-size: 80px;
      margin-bottom: 10px;
    }

    .piece-description {
      color: black !important;
      max-width: 200px;
      text-align: left !important;
    }

    .controls {
      margin-top: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      color: white;
    }
  </style>
</head>
<body>
  <div class="layout">
    <div class="sidebar-container" id="sidebar-container">
      
    </div>

    <main class="main-content">
      <h1>Da Rules</h1>

      <p><strong>Goal of the Game</strong></p>
      <p>
        The main goal is to checkmate your opponent’s king by putting them in a position where it is threatened with capture and they have no legal moves to escape.
      </p>

      <p><strong>The Board</strong></p>
      <p>
        The chessboard has 8 rows (numbered 1–8) and 8 columns (labeled a–h).
      </p>

      <p><strong>Starting Pieces</strong></p>
      <ul>
        <li>1 King</li>
        <li>1 Queen</li>
        <li>2 Rooks</li>
        <li>2 Bishops</li>
        <li>2 Knights</li>
        <li>8 Pawns</li>
      </ul>

      <p>White always moves first, and players alternate turns.</p>

      <div class="piece-display">
        <div id="pieceSymbol" class="piece-symbol">♙</div>
        <div class="piece-description" id="pieceDescription">
          Pawns move forward one square at a time, but capture diagonally. On their first move, they can advance two squares.
        </div>
      </div>

      <div id="chessboard"></div>

      <div class="controls">
        <button onclick="previousPiece()">&#8592; Prev</button>
        <span id="pieceName">Pawn</span>
        <button onclick="nextPiece()">Next &#8594;</button>
      </div>
    </main>
  </div>

  <script>
    // Load sidebar HTML dynamically
    fetch('sidebar.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('sidebar-container').innerHTML = html;
      });

    const board = document.getElementById('chessboard');
    const pieceName = document.getElementById('pieceName');
    const pieceSymbol = document.getElementById('pieceSymbol');
    const pieceDescription = document.getElementById('pieceDescription');

    const pieces = [
      {
        name: 'Pawn',
        symbol: '♙',
        description: 'Pawns move forward one square at a time, but capture diagonally. On their first move, they can advance two squares.',
        moves: [[1, 0], [2, 0], [1, 1], [1, -1]]
      },
      {
        name: 'Rook',
        symbol: '♖',
        description: 'Rooks move any number of squares vertically or horizontally.',
        moves: [
          ...Array(8).fill().map((_, i) => [i + 1, 0]),
          ...Array(8).fill().map((_, i) => [0, i + 1]),
          ...Array(8).fill().map((_, i) => [-i - 1, 0]),
          ...Array(8).fill().map((_, i) => [0, -i - 1])
        ]
      },
      {
        name: 'Knight',
        symbol: '♘',
        description: 'Knights move in an L-shape: two squares in one direction, then one square perpendicular.',
        moves: [[2, 1], [1, 2], [-1, 2], [-2, 1], [-2, -1], [-1, -2], [1, -2], [2, -1]]
      },
      {
        name: 'Bishop',
        symbol: '♗',
        description: 'Bishops move diagonally any number of squares.',
        moves: [
          ...Array(8).fill().map((_, i) => [i + 1, i + 1]),
          ...Array(8).fill().map((_, i) => [-i - 1, -i - 1]),
          ...Array(8).fill().map((_, i) => [i + 1, -i - 1]),
          ...Array(8).fill().map((_, i) => [-i - 1, i + 1])
        ]
      },
      {
        name: 'Queen',
        symbol: '♕',
        description: 'The queen moves any number of squares in any direction: horizontally, vertically, or diagonally.',
        moves: []
      },
      {
        name: 'King',
        symbol: '♔',
        description: 'The king moves one square in any direction.',
        moves: [[1, 0], [0, 1], [-1, 0], [0, -1], [1, 1], [-1, -1], [1, -1], [-1, 1]]
      }
    ];
    pieces[4].moves = pieces[1].moves.concat(pieces[3].moves);

    let currentPieceIndex = 0;

    function drawBoard() {
      board.innerHTML = '';
      for (let row = 0; row < 8; row++) {
        for (let col = 0; col < 8; col++) {
          const square = document.createElement('div');
          square.className = 'square ' + ((row + col) % 2 === 0 ? 'light' : 'dark');

          if (row === 3 && col === 3) {
            square.textContent = pieces[currentPieceIndex].symbol;
          } else {
            for (const move of pieces[currentPieceIndex].moves) {
              if (row === 3 + move[0] && col === 3 + move[1]) {
                const dot = document.createElement('div');
                dot.className = 'dot';
                square.appendChild(dot);
              }
            }
          }

          board.appendChild(square);
        }
      }
      pieceName.textContent = pieces[currentPieceIndex].name;
      pieceSymbol.textContent = pieces[currentPieceIndex].symbol;
      pieceDescription.textContent = pieces[currentPieceIndex].description;
    }

    function previousPiece() {
      currentPieceIndex = (currentPieceIndex - 1 + pieces.length) % pieces.length;
      drawBoard();
    }

    function nextPiece() {
      currentPieceIndex = (currentPieceIndex + 1) % pieces.length;
      drawBoard();
    }

    drawBoard();
  </script>
</body>
</html>
